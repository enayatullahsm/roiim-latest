{"ast":null,"code":"import _objectSpread from\"/home/enayat/Desktop/React/ROIIM-main/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/enayat/Desktop/React/ROIIM-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/home/enayat/Desktop/React/ROIIM-main/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from'react';import'./App.css';import{makeStyles}from'@material-ui/core/styles';import CssBaseline from'@material-ui/core/CssBaseline';import AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import Paper from'@material-ui/core/Paper';import CircularProgress from'@material-ui/core/CircularProgress';import Button from'@material-ui/core/Button';import Typography from'@material-ui/core/Typography';import Form from'./Form';var useStyles=makeStyles(function(theme){return{appBar:{position:'relative'},layout:_defineProperty({width:'auto',marginLeft:theme.spacing(2),marginRight:theme.spacing(2)},theme.breakpoints.up(600+theme.spacing(2)*2),{width:600,marginLeft:'auto',marginRight:'auto'}),paper:_defineProperty({marginTop:theme.spacing(3),marginBottom:theme.spacing(3),padding:theme.spacing(2)},theme.breakpoints.up(600+theme.spacing(3)*2),{marginTop:theme.spacing(6),marginBottom:theme.spacing(6),padding:theme.spacing(3)}),stepper:{padding:theme.spacing(3,0,5)},buttons:{display:'flex',justifyContent:'flex-end'},button:{marginTop:theme.spacing(3),marginLeft:theme.spacing(1)}};});function App(){var classes=useStyles();var _useState=useState({firstName:'',lastName:'',email:'',street:'',city:'',state:'NY',zip:'',country:'US',phone:'',amount:null}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];function handleChange(e){var updateData=_objectSpread(_objectSpread({},data),{},_defineProperty({},e.target.name,e.target.value));setData(updateData);// console.log(updateData);\n}function handleSubmit(e){e.preventDefault();setIsLoading(true);var requestOptions={method:'POST',mode:'cors',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)};fetch('http://localhost:5000/api/token',requestOptions).then(function(response){return response.json();}).then(function(result){// console.log(result);\nvar token=result.token;var billingAddress={city:data.city,street:data.street,zip:data.zip,country:'US',state:'NY'};var customer={firstName:data.firstName,lastName:data.lastName,email:data.email,phone:data.phone,dateOfBirth:{day:4,month:5,year:1998}};function uuidv4(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:r&0x3|0x8;return v.toString(16);});}var uuid=uuidv4();// setIsLoading(false);\nsetIsLoading(window.checkout(token,billingAddress,customer,uuid,data.amount));});}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(AppBar,{position:\"absolute\",color:\"default\",className:classes.appBar,children:/*#__PURE__*/_jsx(Toolbar,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"inherit\",noWrap:true,children:\"ROIIM Assignment\"})})}),/*#__PURE__*/_jsx(\"main\",{className:classes.layout,children:/*#__PURE__*/_jsxs(Paper,{className:classes.paper,children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h4\",align:\"center\",style:{marginBottom:'27px',textDecoration:'underline'},children:\"Checkout\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Form,{data:data,handleChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:classes.buttons,children:isLoading?/*#__PURE__*/_jsx(CircularProgress,{}):/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",className:classes.button,type:\"submit\",children:\"Pay\"})})]})]})})]});}export default App;","map":{"version":3,"sources":["/home/enayat/Desktop/React/ROIIM-main/client/src/App.js"],"names":["React","useState","makeStyles","CssBaseline","AppBar","Toolbar","Paper","CircularProgress","Button","Typography","Form","useStyles","theme","appBar","position","layout","width","marginLeft","spacing","marginRight","breakpoints","up","paper","marginTop","marginBottom","padding","stepper","buttons","display","justifyContent","button","App","classes","firstName","lastName","email","street","city","state","zip","country","phone","amount","data","setData","isLoading","setIsLoading","handleChange","e","updateData","target","name","value","handleSubmit","preventDefault","requestOptions","method","mode","headers","body","JSON","stringify","fetch","then","response","json","result","token","billingAddress","customer","dateOfBirth","day","month","year","uuidv4","replace","c","r","Math","random","v","toString","uuid","window","checkout","textDecoration"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Paper from '@material-ui/core/Paper';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Form from './Form';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: 'relative',\n  },\n  layout: {\n    width: 'auto',\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\n      width: 600,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  },\n  paper: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n    padding: theme.spacing(2),\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\n      marginTop: theme.spacing(6),\n      marginBottom: theme.spacing(6),\n      padding: theme.spacing(3),\n    },\n  },\n  stepper: {\n    padding: theme.spacing(3, 0, 5),\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  button: {\n    marginTop: theme.spacing(3),\n    marginLeft: theme.spacing(1),\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const [data, setData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    street: '',\n    city: '',\n    state: 'NY',\n    zip: '',\n    country: 'US',\n    phone: '',\n    amount: null\n  });\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  function handleChange(e) {\n    const updateData = {\n      ...data,\n      [e.target.name]: e.target.value\n    }\n    setData(updateData);\n    // console.log(updateData);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setIsLoading(true);\n    const requestOptions = {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    };\n    fetch('http://localhost:5000/api/token', requestOptions)\n      .then(response => response.json())\n      .then(result => {\n        // console.log(result);\n        const token = result.token;\n        const billingAddress = {\n          city: data.city,\n          street: data.street,\n          zip: data.zip,\n          country: 'US',\n          state: 'NY'\n        };\n\n        const customer = {\n          firstName: data.firstName,\n          lastName: data.lastName,\n          email: data.email,\n          phone: data.phone,\n          dateOfBirth: {\n            day: 4,\n            month: 5,\n            year: 1998\n          }\n        };\n\n        function uuidv4() {\n          return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            let r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n            return v.toString(16);\n          });\n        }\n\n        const uuid = uuidv4();\n        // setIsLoading(false);\n        setIsLoading(window.checkout(token, billingAddress, customer, uuid, data.amount));\n      });\n  }\n\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\n        <Toolbar>\n          <Typography variant=\"h6\" color=\"inherit\" noWrap>\n            ROIIM Assignment\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <main className={classes.layout}>\n        <Paper className={classes.paper}>\n          <Typography component=\"h1\" variant=\"h4\" align=\"center\" style={{ marginBottom: '27px', textDecoration: 'underline' }}>\n            Checkout\n          </Typography>\n          <form onSubmit={handleSubmit}>\n            <Form data={data} handleChange={handleChange} />\n            <div className={classes.buttons}>\n              {\n                isLoading ?\n                  <CircularProgress />\n                  :\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.button}\n                    type=\"submit\"\n                  >\n                    Pay\n              </Button>}\n            </div>\n          </form>\n        </Paper>\n      </main>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}